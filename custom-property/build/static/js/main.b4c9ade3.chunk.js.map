{"version":3,"sources":["containers/magic/parts/InputTxtProps.js","containers/magic/MagicPropertiesProvider.js","containers/magic/index.js","containers/index.js","sources/xml.js","App.js","index.js","containers/Bpmn.module.scss"],"names":["InputTxtProps","group","element","bpmnFactory","translate","entries","push","entryFactory","textField","id","label","modelProperty","MagicPropertiesProvider","eventBus","elementRegistry","PropertiesActivator","call","this","getTabs","groups","generalGroup","inputTxtProps","createGeneralTabGroups","inherits","magic","__init__","propertiesProvider","Bpmn","renderDiagram","xml","_this","bpmnModeler","importXML","err","console","log","BpmnModeler","container","propertiesPanel","parent","additionalModules","propertiesPanelModule","propertiesProviderModule","moddleExtensions","camunda","camundaModdleDescriptor","react_default","a","createElement","className","styles","canvas","concat","panel","style","height","Component","App","overflow","containers_Bpmn","ReactDOM","render","src_App","document","getElementById","module","exports"],"mappings":"iWAEeA,EAAA,SAAUC,EAAOC,EAASC,EAAaC,GACpDH,EAAMI,QAAQC,KAAKC,IAAaC,UAAU,CACxCC,GAAI,YACJC,MAAON,EAAU,wCACjBO,cAAe,+CCmBJ,SAASC,EAAwBC,EAAUV,EAAaW,EAAiBV,GACtFW,IAAoBC,KAAKC,KAAMJ,GAC/BI,KAAKC,QAAU,SAAUhB,GAOvB,MAAO,CANY,CACjBO,GAAI,UACJC,MAAO,2BACPS,OAtBN,SAAgCjB,EAASC,EAAaW,EAAiBV,GACrE,IAAMgB,EAAe,CACnBX,GAAI,UACJC,MAAO,GACPL,QAAS,IASX,OANAgB,EAAcD,EAAclB,EAASC,EAAaC,GAM3C,CAACgB,GASIE,CAAuBpB,EAASC,EAAaW,EAAiBV,MAO5EmB,IAASX,EAAyBG,KCpCnB,IAAAS,EAAA,CACbC,SAAU,CAAC,sBACXC,mBAAoB,CAAC,OAAQd,8BCKVe,6MAgBnBC,cAAgB,SAACC,GACfC,EAAKC,YAAYC,UAAUH,EAAK,SAACI,GAC3BA,EACFC,QAAQC,IAAI,4BAEZD,QAAQC,IAAI,kHAnBhBlB,KAAKc,YAAc,IAAIK,IAAY,CACjCC,UAAW,UACXC,gBAAiB,CACfC,OAAQ,qBAEVC,kBAAmB,CAACC,IAAuBC,GAC3CC,iBAAkB,CAChBC,QAASC,KAIb5B,KAAKW,cCtBc,++BDoCnB,OACEkB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOb,WACrBS,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOC,OAAQ1C,GAAG,WAClCqC,EAAAC,EAAAC,cAAA,OACEC,UAAS,2BAAAG,OAA6BF,IAAOG,OAC7C5C,GAAG,mBACH6C,MAAO,CAAEC,OAAQ,kBAjCOC,aEInBC,mLARX,OACEX,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAEC,OAAQ,OAAQG,SAAU,WACtCZ,EAAAC,EAAAC,cAACW,EAAD,cAJUH,aCElBI,IAASC,OAAOf,EAAAC,EAAAC,cAACc,EAAD,MAASC,SAASC,eAAe,6BCJjDC,EAAAC,QAAA,CAAkB7B,UAAA,wBAAAc,OAAA,qBAAAE,MAAA","file":"static/js/main.b4c9ade3.chunk.js","sourcesContent":["import entryFactory from 'bpmn-js-properties-panel/lib/factory/EntryFactory';\r\n\r\nexport default function (group, element, bpmnFactory, translate) {\r\n  group.entries.push(entryFactory.textField({\r\n    id: 'customTxt',\r\n    label: translate('自定义输入框'),\r\n    modelProperty: 'camunda:customTxt'\r\n  }));\r\n}\r\n","import inherits from 'inherits';\nimport PropertiesActivator from 'bpmn-js-properties-panel/lib/PropertiesActivator';\n\nimport inputTxtProps from './parts/InputTxtProps';\nimport checkboxProps from './parts/CheckboxProps';\nimport selectProps from './parts/SelectProps';\nimport userCustomProps from './parts/UserCustomProps';\nimport DynamicSelectProps from './parts/DynamicSelectProps';\n\nfunction createGeneralTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  const generalGroup = {\n    id: 'general',\n    label: '',\n    entries: []\n  };\n\n  inputTxtProps(generalGroup, element, bpmnFactory, translate);\n  // checkboxProps(generalGroup, element, bpmnFactory, translate);\n  // selectProps(generalGroup, element, bpmnFactory, translate);\n  // userCustomProps(generalGroup, element, bpmnFactory, translate);\n  // DynamicSelectProps(generalGroup, element, bpmnFactory, translate);\n\n  return [generalGroup];\n}\n\nexport default function MagicPropertiesProvider(eventBus, bpmnFactory, elementRegistry, translate) {\n  PropertiesActivator.call(this, eventBus);\n  this.getTabs = function (element) {\n    const gengralTab = {\n      id: 'general',\n      label: '基本信息',\n      groups: createGeneralTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    return [gengralTab];\n  };\n}\n\ninherits(MagicPropertiesProvider, PropertiesActivator);\n","import MagicPropertiesProvider from './MagicPropertiesProvider';\r\n\r\nexport default {\r\n  __init__: ['propertiesProvider'],\r\n  propertiesProvider: ['type', MagicPropertiesProvider]\r\n};\r\n","import React, { Component } from 'react';\r\nimport BpmnModeler from 'bpmn-js/lib/Modeler';\r\nimport propertiesPanelModule from 'bpmn-js-properties-panel';\r\nimport camundaModdleDescriptor from 'camunda-bpmn-moddle/resources/camunda';\r\nimport propertiesProviderModule from './magic';\r\nimport { diagramXML } from '../sources/xml';\r\nimport './Common.sass';\r\nimport styles from './Bpmn.module.scss';\r\n\r\nexport default class Bpmn extends Component {\r\n  componentDidMount() {\r\n    this.bpmnModeler = new BpmnModeler({\r\n      container: '#canvas',\r\n      propertiesPanel: {\r\n        parent: '#properties-panel'\r\n      },\r\n      additionalModules: [propertiesPanelModule, propertiesProviderModule],\r\n      moddleExtensions: {\r\n        camunda: camundaModdleDescriptor\r\n      }\r\n    });\r\n\r\n    this.renderDiagram(diagramXML);\r\n  }\r\n\r\n  renderDiagram = (xml) => {\r\n    this.bpmnModeler.importXML(xml, (err) => {\r\n      if (err) {\r\n        console.log('导入失败');\r\n      } else {\r\n        console.log('导入成功');\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.container}>\r\n        <div className={styles.canvas} id=\"canvas\" />\r\n        <div\r\n          className={`properties-panel-parent ${styles.panel}`}\r\n          id=\"properties-panel\"\r\n          style={{ height: '100%' }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export const diagramXML = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<bpmn2:definitions\r\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"\r\n  xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\"\r\n  xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\"\r\n  xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\"\r\n  xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\"\r\n  id=\"sample-diagram\"\r\n  targetNamespace=\"http://bpmn.io/schema/bpmn\"\r\n>\r\n  <bpmn2:process id=\"Process_1\" isExecutable=\"false\">\r\n    <bpmn2:startEvent id=\"StartEvent_1\"/>\r\n  </bpmn2:process>\r\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\r\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Process_1\">\r\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_2\" bpmnElement=\"StartEvent_1\">\r\n        <dc:Bounds height=\"36.0\" width=\"36.0\" x=\"412.0\" y=\"240.0\"/>\r\n      </bpmndi:BPMNShape>\r\n    </bpmndi:BPMNPlane>\r\n  </bpmndi:BPMNDiagram>\r\n</bpmn2:definitions>`;\r\n","import React, { Component } from 'react';\r\nimport EditorBasic from './containers';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{ height: '100%', overflow: 'hidden' }}>\r\n        <EditorBasic />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Bpmn_container__rDk4T\",\"canvas\":\"Bpmn_canvas__2-gbo\",\"panel\":\"Bpmn_panel__2gEka\"};"],"sourceRoot":""}