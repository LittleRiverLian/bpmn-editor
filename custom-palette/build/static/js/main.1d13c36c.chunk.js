(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,n){e.exports=n(370)},170:function(e,t,n){},364:function(e,t,n){},370:function(e,t,n){"use strict";n.r(t);var a=n(21),i=n.n(a),o=n(154),r=n.n(o),c=(n(170),n(67)),s=n(68),p=n(71),l=n(69),d=n(72),h=n(155),m=n.n(h),u=n(156),v=n.n(u),g=n(157),b=n(96),y=n(4),j=n.n(y),_=n(0),f=n(3),O="".concat(".djs-collapse-header",", ").concat(".entry",", ").concat(".djs-palette-toggle");function w(e,t){this._eventBus=e,this._canvas=t,this._providers=[];var n=this;e.on("tool-manager.update",function(e){var t=e.tool;n.updateToolHighlight(t)}),e.on("i18n.changed",function(){n._update()}),e.on("diagram.init",function(){n._diagramInitialized=!0,n._providers.length&&(n._init(),n._update())})}w.$inject=["eventBus","canvas"],w.prototype.registerProvider=function(e){this._providers.push(e),this._diagramInitialized&&(this._container||this._init(),this._update())},w.prototype.getEntries=function(){var e={};return Object(_.i)(this._providers,function(t){var n=t.getPaletteEntries();Object(_.i)(n,function(t,n){e[n]=t})}),e},w.prototype._init=function(){var e=this._canvas,t=this._eventBus;this._container=Object(f.domify)(w.HTML_MARKUP);var n=Object(f.closest)(e.getContainer(),".bjs-container"),a=this._container,i=this;n.insertBefore(a,n.children[0]),f.delegate.bind(a,O,"click",function(e){var t=e.delegateTarget;return Object(f.matches)(t,".djs-collapse-header")?i.toggle(t):Object(f.matches)(t,".djs-palette-toggle")?i.slide(t):void i.trigger("click",e)}),f.event.bind(a,"mousedown",function(e){e.stopPropagation()}),f.delegate.bind(a,".entry","dragstart",function(e){i.trigger("dragstart",e)}),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:a})},w.prototype._toggleState=function(e){e=e||{};var t=this._getParentContainer(),n=this._container,a=this._eventBus,i=Object(f.classes)(n),o=e.twoColumn||this._needsCollapse(t.clientHeight,this._entries||{});i.toggle("two-column",o),"open"in e&&i.toggle("open",e.open),a.fire("palette.changed",{twoColumn:o,open:this.isOpen()})},w.prototype._update=function(){this._entries=this.getEntries();var e=Object(f.query)(".djs-palette-entries",this._container),t=this._entries;Object(f.clear)(e),Object(_.i)(t,function(t){var n=t.group||"default",a=Object(f.query)("[data-group=".concat(n,"]"),e),i=Object(f.query)(".djs-collapse-content",a),o=Object(f.domify)('<div class="djs-collapse-header open">'.concat(t.title,"</div>"));(a||(a=Object(f.domify)('<div class="group" data-group="'.concat(n,'"></div>')),i=Object(f.domify)('<div class="djs-collapse-content open"></div>'),a.appendChild(o),a.appendChild(i),e.appendChild(a)),0===t.children.length)&&Object(f.classes)(a).add("hidden");Object(_.i)(t.children,function(e){var t=e.html||(e.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),n=Object(f.domify)(t),a=Object(f.domify)('<i class="content-icon '.concat(e.className,'"></i>')),o=Object(f.domify)('<span class="content-label">'.concat(e.title,"</span>"));n.appendChild(a),n.appendChild(o),i.appendChild(n),e.separator||(Object(f.attr)(n,"data-action",e.id),e.title&&Object(f.attr)(n,"title",e.title),e.imageUrl&&n.appendChild(Object(f.domify)('<img src="'.concat(e.imageUrl,'">'))))})}),this.open()},w.prototype.trigger=function(e,t,n){var a,i=this._entries,o=t.delegateTarget||t.target;if(!o)return t.preventDefault();if(Object(_.i)(i,function(e){Object(_.i)(e.children,function(e){e.id===Object(f.attr)(o,"data-action")&&(a=e)})}),a){var r=a.action,c=t.originalEvent||t;Object(_.m)(r)?"click"===e&&r(c,n):r[e]&&r[e](c,n),t.preventDefault()}},w.prototype._layoutChanged=function(){this._toggleState({})},w.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},w.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},w.prototype.open=function(){this._toggleState({open:!0})},w.prototype.toggle=function(e){var t=Object(f.closest)(e,".group"),n=Object(f.query)(".djs-collapse-content",t),a=Object(f.classes)(n),i=Object(f.classes)(e);a.has("open")?(a.remove("open"),i.remove("open")):(a.add("open"),i.add("open"))},w.prototype.slide=function(e){var t=Object(f.classes)(this._container);t.has("retract")?(t.remove("retract"),e.setAttribute("title","\u6536\u8d77")):(t.add("retract"),e.setAttribute("title","\u5c55\u5f00"))},w.prototype.isActiveTool=function(e){return e&&this._activeTool===e},w.prototype.updateToolHighlight=function(e){var t;this._toolsContainer||(t=Object(f.query)(".djs-palette-entries",this._container),this._toolsContainer=Object(f.query)("[data-group=tools]",t));var n=this._toolsContainer;Object(_.i)(n.children,function(t){var n=t.getAttribute("data-action");if(n){var a=Object(f.classes)(t);n=n.replace("-tool",""),a.contains("entry")&&n===e?a.add("highlighted-entry"):a.remove("highlighted-entry")}})},w.prototype.isOpen=function(){return Object(f.classes)(this._container).has("open")},w.prototype._getParentContainer=function(){return this._canvas.getContainer()},w.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle" title="\u6536\u8d77"></div></div>';var E={__init__:["palette"],palette:["type",w]},P=n(24);function C(e,t,n,a,i,o,r){this.create=t,this.elementFactory=n,this.spaceTool=a,this.lassoTool=i,this.handTool=o,this.translate=r,e.registerProvider(this)}C.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","translate"],C.prototype.getPaletteEntries=function(){var e=[],t=this.create,n=this.elementFactory,a=this.translate;function i(e,i,o,r,c){function s(a){var i=n.createShape(Object(_.a)({type:e},c));c&&(i.businessObject.di.isExpanded=c.isExpanded),t.start(a,i)}var p=e.replace(/^bpmn:/,"");return{group:i,className:o,title:a(r||"Create {type}",{type:p}),action:{dragstart:s,click:s}}}return Object(_.a)(e,[{title:a("Start Events"),group:"startEvents",children:[Object(P.a)({id:"create.start-event"},i("bpmn:StartEvent","event","bpmn-icon-start-event-none"))]},{title:a("Intermediate Events"),group:"intermediateEvents",children:[Object(P.a)({id:"create.intermediate-event"},i("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none")),Object(P.a)({id:"create.intermediate-event-catch-timer"},i("bpmn:IntermediateCatchEvent","event","bpmn-icon-intermediate-event-catch-timer","Intermediate Event Catch Timer",{eventDefinitionType:"bpmn:TimerEventDefinition"}))]},{title:a("Boundary Events"),group:"boundaryEvents",children:[Object(P.a)({id:"create.boundary-event-catch-timer"},i("bpmn:BoundaryEvent","event","bpmn-icon-intermediate-event-catch-timer","Boundary Event Timer",{eventDefinitionType:"bpmn:TimerEventDefinition"}))]},{title:a("End Events"),group:"endEvents",children:[Object(P.a)({id:"create.end-event"},i("bpmn:EndEvent","event","bpmn-icon-end-event-none"))]},{title:a("Activities"),group:"activities",children:[Object(P.a)({id:"create.task"},i("bpmn:Task","activity","bpmn-icon-task")),Object(P.a)({id:"create.userTask"},i("bpmn:UserTask","activity","bpmn-icon-user-task")),Object(P.a)({id:"create.serviceTask"},i("bpmn:ServiceTask","activity","bpmn-icon-service-task"))]},{title:a("Gateways"),group:"gateways",children:[Object(P.a)({id:"create.exclusive-gateway"},i("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-xor")),Object(P.a)({id:"create.parallel-gateway"},i("bpmn:ParallelGateway","gateway","bpmn-icon-gateway-parallel"))]}]),e};var T={__depends__:[E],__init__:["paletteProvider"],paletteProvider:["type",C]};function B(e){b.a.call(this,e),this.customElements=[]}j()(B,b.a),B.prototype._modules=[].concat(B.prototype._modules,[T]);n(364);var M=n(74),D=n.n(M),k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).renderDiagram=function(e){n.bpmnModeler.importXML(e,function(e){e?console.log("\u5bfc\u5165\u5931\u8d25"):console.log("\u5bfc\u5165\u6210\u529f")})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.bpmnModeler=new B({container:"#canvas",propertiesPanel:{parent:"#properties-panel"},additionalModules:[m.a,v.a],moddleExtensions:{camunda:g}}),this.renderDiagram('<?xml version="1.0" encoding="UTF-8"?>\n<bpmn2:definitions\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL"\n  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"\n  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"\n  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"\n  xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd"\n  id="sample-diagram"\n  targetNamespace="http://bpmn.io/schema/bpmn"\n>\n  <bpmn2:process id="Process_1" isExecutable="false">\n    <bpmn2:startEvent id="StartEvent_1"/>\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">\n      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n        <dc:Bounds height="36.0" width="36.0" x="412.0" y="240.0"/>\n      </bpmndi:BPMNShape>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>')}},{key:"render",value:function(){return i.a.createElement("div",{className:D.a.container},i.a.createElement("div",{className:D.a.canvas,id:"canvas"}),i.a.createElement("div",{className:"properties-panel-parent ".concat(D.a.panel),id:"properties-panel",style:{height:"100%"}}))}}]),t}(a.Component),x=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{height:"100%",overflow:"hidden"}},i.a.createElement(k,null))}}]),t}(a.Component);r.a.render(i.a.createElement(x,null),document.getElementById("root"))},74:function(e,t,n){e.exports={container:"Bpmn_container__30R88",canvas:"Bpmn_canvas__CC3O-"}}},[[165,2,1]]]);
//# sourceMappingURL=main.1d13c36c.chunk.js.map