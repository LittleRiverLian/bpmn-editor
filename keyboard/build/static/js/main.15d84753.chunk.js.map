{"version":3,"sources":["containers/modeler/keyboard/BpmnKeyBindings.js","containers/modeler/keyboard/index.js","containers/modeler/index.js","containers/index.js","sources/xml.js","App.js","index.js","containers/Bpmn.module.scss"],"names":["BpmnKeyBindings","keyboard","editorActions","addListener","key","trigger","$inject","modeler_keyboard","__depends__","KeyboardModule","__init__","bpmnKeyBindings","CustomModeler","options","Modeler","call","this","customElements","inherits","prototype","_modules","concat","Bpmn","renderDiagram","xml","_this","bpmnModeler","importXML","err","console","log","BpmnModeler","container","propertiesPanel","parent","additionalModules","propertiesPanelModule","propertiesProviderModule","moddleExtensions","camunda","camundaModdleDescriptor","bindTo","document","react_default","a","createElement","className","styles","canvas","id","panel","style","height","Component","App","overflow","containers_Bpmn","ReactDOM","render","src_App","getElementById","module","exports"],"mappings":"2SAMe,SAASA,EAAgBC,EAAUC,GAChDD,EAASE,YAAY,SAACC,GAGpB,GAAY,KAARA,EAGF,OAFAF,EAAcG,QAAQ,QACtBH,EAAcG,QAAQ,oBACf,IAKbL,EAAgBM,QAAU,CACxB,WACA,iBChBa,IAAAC,EAAA,CACbC,YAAa,CACXC,KAEFC,SAAU,CAAE,mBACZC,gBAAiB,CAAE,OAAQX,ICHd,SAASY,EAAcC,GACpCC,IAAQC,KAAKC,KAAMH,GAEnBG,KAAKC,eAAiB,GAGxBC,IAASN,EAAeE,KAExBF,EAAcO,UAAUC,SAAW,GAAGC,OACpCT,EAAcO,UAAUC,SACxB,CACEX,+ECRiBa,6MAiBnBC,cAAgB,SAACC,GACfC,EAAKC,YAAYC,UAAUH,EAAK,SAACI,GAC3BA,EACFC,QAAQC,IAAI,4BAEZD,QAAQC,IAAI,kHApBhBd,KAAKU,YAAc,IAAIK,EAAY,CACjCC,UAAW,UACXC,gBAAiB,CACfC,OAAQ,qBAEVC,kBAAmB,CAACC,IAAuBC,KAC3CC,iBAAkB,CAChBC,QAASC,GAEXvC,SAAU,CAAEwC,OAAQC,YAGtB1B,KAAKO,cCvBc,++BDqCnB,OACEoB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOf,WACrBW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOC,OAAQC,GAAG,WAClCN,EAAAC,EAAAC,cAAA,OACEC,UAAS,2BAAAzB,OAA6B0B,IAAOG,OAC7CD,GAAG,mBACHE,MAAO,CAAEC,OAAQ,kBAlCOC,aEInBC,mLARX,OACEX,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAEC,OAAQ,OAAQG,SAAU,WACtCZ,EAAAC,EAAAC,cAACW,EAAD,cAJUH,aCElBI,IAASC,OAAOf,EAAAC,EAAAC,cAACc,EAAD,MAASjB,SAASkB,eAAe,6BCJjDC,EAAAC,QAAA,CAAkB9B,UAAA,wBAAAgB,OAAA,qBAAAE,MAAA","file":"static/js/main.15d84753.chunk.js","sourcesContent":["/**\r\n * BPMN 2.0 specific key bindings.\r\n *\r\n * @param {Keyboard} keyboard\r\n * @param {EditorActions} editorActions\r\n */\r\nexport default function BpmnKeyBindings(keyboard, editorActions) {\r\n  keyboard.addListener((key) => {\r\n    // cut\r\n    // ctrl x\r\n    if (key === 88) {\r\n      editorActions.trigger('copy');\r\n      editorActions.trigger('removeSelection');\r\n      return true;\r\n    }\r\n  });\r\n}\r\n\r\nBpmnKeyBindings.$inject = [\r\n  'keyboard',\r\n  'editorActions'\r\n];\r\n","import KeyboardModule from 'diagram-js/lib/features/keyboard';\r\n\r\nimport BpmnKeyBindings from './BpmnKeyBindings';\r\n\r\nexport default {\r\n  __depends__: [\r\n    KeyboardModule\r\n  ],\r\n  __init__: [ 'bpmnKeyBindings' ],\r\n  bpmnKeyBindings: [ 'type', BpmnKeyBindings ]\r\n};\r\n","import Modeler from 'bpmn-js/lib/Modeler';\r\n\r\nimport inherits from 'inherits';\r\n\r\nimport KeyboardModule from './keyboard';\r\n\r\nexport default function CustomModeler(options) {\r\n  Modeler.call(this, options);\r\n\r\n  this.customElements = [];\r\n}\r\n\r\ninherits(CustomModeler, Modeler);\r\n\r\nCustomModeler.prototype._modules = [].concat(\r\n  CustomModeler.prototype._modules,\r\n  [\r\n    KeyboardModule\r\n  ]\r\n);\r\n","import React, { Component } from 'react';\r\nimport BpmnModeler from './modeler';\r\nimport propertiesPanelModule from 'bpmn-js-properties-panel';\r\nimport propertiesProviderModule from 'bpmn-js-properties-panel/lib/provider/camunda';\r\nimport camundaModdleDescriptor from 'camunda-bpmn-moddle/resources/camunda';\r\nimport { diagramXML } from '../sources/xml';\r\nimport './Common.sass';\r\nimport styles from './Bpmn.module.scss';\r\n\r\nexport default class Bpmn extends Component {\r\n  componentDidMount() {\r\n    this.bpmnModeler = new BpmnModeler({\r\n      container: '#canvas',\r\n      propertiesPanel: {\r\n        parent: '#properties-panel'\r\n      },\r\n      additionalModules: [propertiesPanelModule, propertiesProviderModule],\r\n      moddleExtensions: {\r\n        camunda: camundaModdleDescriptor\r\n      },\r\n      keyboard: { bindTo: document }\r\n    });\r\n\r\n    this.renderDiagram(diagramXML);\r\n  }\r\n\r\n  renderDiagram = (xml) => {\r\n    this.bpmnModeler.importXML(xml, (err) => {\r\n      if (err) {\r\n        console.log('导入失败');\r\n      } else {\r\n        console.log('导入成功');\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.container}>\r\n        <div className={styles.canvas} id=\"canvas\" />\r\n        <div\r\n          className={`properties-panel-parent ${styles.panel}`}\r\n          id=\"properties-panel\"\r\n          style={{ height: '100%' }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export const diagramXML = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<bpmn2:definitions\r\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"\r\n  xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\"\r\n  xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\"\r\n  xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\"\r\n  xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\"\r\n  id=\"sample-diagram\"\r\n  targetNamespace=\"http://bpmn.io/schema/bpmn\"\r\n>\r\n  <bpmn2:process id=\"Process_1\" isExecutable=\"false\">\r\n    <bpmn2:startEvent id=\"StartEvent_1\"/>\r\n  </bpmn2:process>\r\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\r\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Process_1\">\r\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_2\" bpmnElement=\"StartEvent_1\">\r\n        <dc:Bounds height=\"36.0\" width=\"36.0\" x=\"412.0\" y=\"240.0\"/>\r\n      </bpmndi:BPMNShape>\r\n    </bpmndi:BPMNPlane>\r\n  </bpmndi:BPMNDiagram>\r\n</bpmn2:definitions>`;\r\n","import React, { Component } from 'react';\r\nimport EditorBasic from './containers';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{ height: '100%', overflow: 'hidden' }}>\r\n        <EditorBasic />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Bpmn_container__1xZs0\",\"canvas\":\"Bpmn_canvas__2WyCA\",\"panel\":\"Bpmn_panel__3qSIA\"};"],"sourceRoot":""}